<section class="p-5">
  <div class="flex gap-3 mb-3">
    <h3 class="text-xl">📚 Dərslər</h3>
    <p-button label="Redaktə et" icon="pi pi-pencil" size="small" (onClick)="showDialog()" />
  </div>

  <div class="flex flex-wrap gap-3">
    <p-card *ngFor="let subject of subjects" [style]="{
      width: '14rem',
      minHeight: '12rem',
      boxShadow: '0 2px 8px rgba(0,0,0,0.08)',
      borderRadius: '8px',
      padding: '1rem'
    }">
      <!-- Dərs adı -->
      <ng-template #title>
        <span class="text-lg font-medium">{{ subject.name }}</span>
      </ng-template>

      <!-- Kod və sinif -->
      <ng-template #subtitle>
        <span class="text-xs text-gray-500">
          {{ subject.code }} | {{ subject.schoolClass }}-ci sinif
        </span>
      </ng-template>

      <!-- Müəllim -->
      <div class="mt-2 text-sm text-gray-700">
        <strong>Müəllim:</strong><br />
        {{ subject.teacherFirstName }} {{ subject.teacherLastName }}
      </div>
    </p-card>
  </div>

</section>


<p-dialog [(visible)]="visible" [modal]="true" [style]="{ width: '50rem' }"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [maximizable]="true">
  <!-- Custom header slot -->
  <ng-template pTemplate="header">
    <div>
      <button pButton type="button" size="small" label="Əlavə et" icon="pi pi-plus" (click)="onAddSubject()"></button>
    </div>
  </ng-template>

  <div>
    <ag-grid-angular style="width: 100%; height: 500px;" [columnDefs]="colDefs" [rowData]="subjects" [theme]="theme"
      (cellValueChanged)="onCellValueChanged($event)"></ag-grid-angular>
  </div>
</p-dialog>